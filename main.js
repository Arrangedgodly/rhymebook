!function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class t{constructor(t){let{word:n,templateSelector:s,sectionSelector:r}=t;e(this,"_getTemplate",(()=>document.querySelector(this.template).content.querySelector(".rhyme").cloneNode(!0))),e(this,"generateRhyme",(()=>(this._element=this._getTemplate(),this._element.textContent=this.word,this._element.setAttribute("title",this.word),this._element))),e(this,"addRhyme",(e=>{this.section.append(e)})),this.word=n,this.template=s,this.section=document.querySelector(r)}}const n=new class{constructor(e){let{url:t}=e;this.url=t,this.max=150,this.engine="topic"}setMax(e){this.max=e}changeEngine(e){this.engine=e}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getRhyme(e,t){return fetch(`${this.url}?rel_rhy=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}getSoundAlike(e,t){return fetch(`${this.url}?rel_nry=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}getRelatedAdjectives(e,t){return fetch(`${this.url}?rel_jja=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}getRelatedNouns(e,t){return fetch(`${this.url}?rel_jjb=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}getRelatedWords(e,t){return fetch(`${this.url}?rel_trg=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}getSynonyms(e,t){return fetch(`${this.url}?rel_syn=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}getAntonyms(e,t){return fetch(`${this.url}?rel_ant=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}getFrequentFollowers(e,t){return fetch(`${this.url}?rel_bga=${e}&${this.engine}=${t}&max=${this.max}`).then(this._checkResponse)}}({url:"https://api.datamuse.com/words"}),s=document.querySelector(".form-input-title"),r=document.querySelector(".form-input-body");function o(e){let{data:n,sectionSelector:s}=e;document.querySelector(s).innerHTML="",n.forEach((e=>{const n=new t({word:e.word,templateSelector:"#rhyme",sectionSelector:s});n.addRhyme(n.generateRhyme())}))}r.value="",r.addEventListener("keydown",(e=>{if(32===e.keyCode||13===e.keyCode){const e=r.value.split(" ").pop(),t=s.value;n.getRhyme(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-def"})})),n.getSoundAlike(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-sound"})})),n.getRelatedNouns(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-rel-noun"})})),n.getRelatedAdjectives(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-rel-adj"})})),n.getSynonyms(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-syn"})})),n.getAntonyms(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-ant"})})),n.getRelatedWords(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-rel"})})),n.getFrequentFollowers(e,t).then((e=>{o({data:e,sectionSelector:".rhymes-follow"})}))}})),Array.from(document.querySelectorAll(".eye")).forEach((e=>{e.addEventListener("click",(()=>{e.closest(".rhymes-wrapper").classList.add("rhymes-hidden")}))}));const h=document.querySelector(".form-input-max"),i=document.querySelector(".form-label-max");i.textContent=`${h.value}`,h.oninput=function(){i.textContent=`${h.value}`,n.setMax(h.value)},document.querySelectorAll('[name="engine"]').forEach((e=>{e.onclick=function(){n.changeEngine(this.value)}}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNUQyxLQUFNYyxFQUNOeEQsZ0JBQWlCLGtCQUZuQixHQUtILEtBR1d5RCxNQUFNQyxLQUFLekQsU0FBUzBELGlCQUFpQixTQUM3Q2YsU0FBUWdCLElBQ2RBLEVBQU9YLGlCQUFpQixTQUFTLEtBQ2hCVyxFQUFPQyxRQUFRLG1CQUN2QkMsVUFBVUMsSUFBSSxnQkFBckIsR0FGRixJQU1GLE1BQU1DLEVBQVcvRCxTQUFTQyxjQUFjLG1CQUNsQytELEVBQWdCaEUsU0FBU0MsY0FBYyxtQkFDN0MrRCxFQUFjeEQsWUFBZSxHQUFFdUQsRUFBU2hCLFFBRXhDZ0IsRUFBU0UsUUFBVSxXQUNqQkQsRUFBY3hELFlBQWUsR0FBRXVELEVBQVNoQixRQUN4Q2xDLEVBQUlJLE9BQU84QyxFQUFTaEIsTUFDckIsRUFFb0IvQyxTQUFTMEQsaUJBQWlCLG1CQUNsQ2YsU0FBUXVCLElBQ25CQSxFQUFNQyxRQUFVLFdBQ2R0RCxFQUFJTSxhQUFhakIsS0FBSzZDLE1BQ3ZCLENBRkQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwaS10ZXN0Ly4vc3JjL2NvbXBvbmVudHMvUmh5bWUuanMiLCJ3ZWJwYWNrOi8vYXBpLXRlc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXBpLXRlc3QvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFJoeW1lIHtcclxuICBjb25zdHJ1Y3Rvcih7IHdvcmQsIHRlbXBsYXRlU2VsZWN0b3IsIHNlY3Rpb25TZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLndvcmQgPSB3b3JkO1xyXG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLnNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlY3Rpb25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy50ZW1wbGF0ZSlcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5yaHltZVwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVSaHltZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMud29yZDtcclxuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgdGhpcy53b3JkKTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgYWRkUmh5bWUgPSAoZWxlbWVudCkgPT4ge1xyXG4gICAgdGhpcy5zZWN0aW9uLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FwaVwiO1xyXG5pbXBvcnQgeyBSaHltZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUmh5bWVcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmZ1bmN0aW9uIGdldExhc3RXb3JkKHN0cikge1xyXG4gIHJldHVybiBzdHIuc3BsaXQoJyAnKS5wb3AoKTtcclxufVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7dXJsOiBcImh0dHBzOi8vYXBpLmRhdGFtdXNlLmNvbS93b3Jkc1wifSk7XHJcblxyXG5jb25zdCB0aGVtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWlucHV0LXRpdGxlXCIpO1xyXG5jb25zdCBib2R5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0taW5wdXQtYm9keVwiKTtcclxuYm9keUlucHV0LnZhbHVlID0gXCJcIjtcclxuXHJcbmNvbnN0IHNwYWNlS2V5Q29kZSA9IDMyO1xyXG5jb25zdCBlbnRlcktleUNvZGUgPSAxMztcclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NBcGkoe2RhdGEsIHNlY3Rpb25TZWxlY3Rvcn0pIHtcclxuICBjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWN0aW9uU2VsZWN0b3IpO1xyXG4gIHNlY3Rpb24uaW5uZXJIVE1MID0gXCJcIjtcclxuICBkYXRhLmZvckVhY2god29yZCA9PiB7XHJcbiAgICBjb25zdCByaHltZSA9IG5ldyBSaHltZSh7XHJcbiAgICAgIHdvcmQ6IHdvcmQud29yZCxcclxuICAgICAgdGVtcGxhdGVTZWxlY3RvcjogXCIjcmh5bWVcIixcclxuICAgICAgc2VjdGlvblNlbGVjdG9yOiBzZWN0aW9uU2VsZWN0b3JcclxuICAgIH0pO1xyXG4gICAgcmh5bWUuYWRkUmh5bWUocmh5bWUuZ2VuZXJhdGVSaHltZSgpKTtcclxuICB9KVxyXG59XHJcblxyXG5ib2R5SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSBzcGFjZUtleUNvZGUgfHwgZXZ0LmtleUNvZGUgPT09IGVudGVyS2V5Q29kZSkge1xyXG4gICAgICBjb25zdCBpbnB1dCA9IGdldExhc3RXb3JkKGJvZHlJbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnN0IHRoZW1lID0gdGhlbWVJbnB1dC52YWx1ZTtcclxuICAgICAgYXBpLmdldFJoeW1lKGlucHV0LCB0aGVtZSlcclxuICAgICAgICAudGhlbih3b3JkcyA9PiB7XHJcbiAgICAgICAgICBwcm9jZXNzQXBpKHtcclxuICAgICAgICAgICAgZGF0YTogd29yZHMsXHJcbiAgICAgICAgICAgIHNlY3Rpb25TZWxlY3RvcjogXCIucmh5bWVzLWRlZlwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgYXBpLmdldFNvdW5kQWxpa2UoaW5wdXQsIHRoZW1lKVxyXG4gICAgICAgIC50aGVuKHdvcmRzID0+IHtcclxuICAgICAgICAgIHByb2Nlc3NBcGkoe1xyXG4gICAgICAgICAgICBkYXRhOiB3b3JkcyxcclxuICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiBcIi5yaHltZXMtc291bmRcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIGFwaS5nZXRSZWxhdGVkTm91bnMoaW5wdXQsIHRoZW1lKVxyXG4gICAgICAgIC50aGVuKHdvcmRzID0+IHtcclxuICAgICAgICAgIHByb2Nlc3NBcGkoe1xyXG4gICAgICAgICAgICBkYXRhOiB3b3JkcyxcclxuICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiBcIi5yaHltZXMtcmVsLW5vdW5cIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBpLmdldFJlbGF0ZWRBZGplY3RpdmVzKGlucHV0LCB0aGVtZSlcclxuICAgICAgICAudGhlbih3b3JkcyA9PiB7XHJcbiAgICAgICAgICBwcm9jZXNzQXBpKHtcclxuICAgICAgICAgICAgZGF0YTogd29yZHMsXHJcbiAgICAgICAgICAgIHNlY3Rpb25TZWxlY3RvcjogXCIucmh5bWVzLXJlbC1hZGpcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBpLmdldFN5bm9ueW1zKGlucHV0LCB0aGVtZSlcclxuICAgICAgICAudGhlbih3b3JkcyA9PiB7XHJcbiAgICAgICAgICBwcm9jZXNzQXBpKHtcclxuICAgICAgICAgICAgZGF0YTogd29yZHMsXHJcbiAgICAgICAgICAgIHNlY3Rpb25TZWxlY3RvcjogXCIucmh5bWVzLXN5blwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgYXBpLmdldEFudG9ueW1zKGlucHV0LCB0aGVtZSlcclxuICAgICAgICAudGhlbih3b3JkcyA9PiB7XHJcbiAgICAgICAgICBwcm9jZXNzQXBpKHtcclxuICAgICAgICAgICAgZGF0YTogd29yZHMsXHJcbiAgICAgICAgICAgIHNlY3Rpb25TZWxlY3RvcjogXCIucmh5bWVzLWFudFwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgYXBpLmdldFJlbGF0ZWRXb3JkcyhpbnB1dCwgdGhlbWUpXHJcbiAgICAgICAgLnRoZW4od29yZHMgPT4ge1xyXG4gICAgICAgICAgcHJvY2Vzc0FwaSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHdvcmRzLFxyXG4gICAgICAgICAgICBzZWN0aW9uU2VsZWN0b3I6IFwiLnJoeW1lcy1yZWxcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIGFwaS5nZXRGcmVxdWVudEZvbGxvd2VycyhpbnB1dCwgdGhlbWUpXHJcbiAgICAgICAgLnRoZW4od29yZHMgPT4ge1xyXG4gICAgICAgICAgcHJvY2Vzc0FwaSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHdvcmRzLFxyXG4gICAgICAgICAgICBzZWN0aW9uU2VsZWN0b3I6IFwiLnJoeW1lcy1mb2xsb3dcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc3QgYnV0dG9ucyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5leWVcIikpO1xyXG4gIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJoeW1lcyA9IGJ1dHRvbi5jbG9zZXN0KFwiLnJoeW1lcy13cmFwcGVyXCIpO1xyXG4gICAgICByaHltZXMuY2xhc3NMaXN0LmFkZChcInJoeW1lcy1oaWRkZW5cIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgbWF4UmFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0taW5wdXQtbWF4XCIpO1xyXG4gIGNvbnN0IG1heFJhbmdlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tbGFiZWwtbWF4XCIpO1xyXG4gIG1heFJhbmdlTGFiZWwudGV4dENvbnRlbnQgPSBgJHttYXhSYW5nZS52YWx1ZX1gO1xyXG5cclxuICBtYXhSYW5nZS5vbmlucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBtYXhSYW5nZUxhYmVsLnRleHRDb250ZW50ID0gYCR7bWF4UmFuZ2UudmFsdWV9YDtcclxuICAgIGFwaS5zZXRNYXgobWF4UmFuZ2UudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZW5naW5lUmFkaW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW25hbWU9XCJlbmdpbmVcIl0nKTtcclxuICBlbmdpbmVSYWRpb3MuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICByYWRpby5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBhcGkuY2hhbmdlRW5naW5lKHRoaXMudmFsdWUpO1xyXG4gICAgfTtcclxuICB9KTsiLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IHVybCB9KSB7XHJcbiAgICB0aGlzLnVybCA9IHVybDtcclxuICAgIHRoaXMubWF4ID0gMTUwO1xyXG4gICAgdGhpcy5lbmdpbmUgPSBcInRvcGljXCI7XHJcbiAgfVxyXG5cclxuICBzZXRNYXgodmFsKSB7XHJcbiAgICB0aGlzLm1heCA9IHZhbDtcclxuICB9XHJcblxyXG4gIGNoYW5nZUVuZ2luZSh2YWwpIHtcclxuICAgIHRoaXMuZW5naW5lID0gdmFsO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0Umh5bWUod29yZCwgdG9waWMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0/cmVsX3JoeT0ke3dvcmR9JiR7dGhpcy5lbmdpbmV9PSR7dG9waWN9Jm1heD0ke3RoaXMubWF4fWApXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBnZXRTb3VuZEFsaWtlKHdvcmQsIHRvcGljKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9P3JlbF9ucnk9JHt3b3JkfSYke3RoaXMuZW5naW5lfT0ke3RvcGljfSZtYXg9JHt0aGlzLm1heH1gKVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgZ2V0UmVsYXRlZEFkamVjdGl2ZXMod29yZCwgdG9waWMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0/cmVsX2pqYT0ke3dvcmR9JiR7dGhpcy5lbmdpbmV9PSR7dG9waWN9Jm1heD0ke3RoaXMubWF4fWApXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBnZXRSZWxhdGVkTm91bnMod29yZCwgdG9waWMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0/cmVsX2pqYj0ke3dvcmR9JiR7dGhpcy5lbmdpbmV9PSR7dG9waWN9Jm1heD0ke3RoaXMubWF4fWApXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBnZXRSZWxhdGVkV29yZHMod29yZCwgdG9waWMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0/cmVsX3RyZz0ke3dvcmR9JiR7dGhpcy5lbmdpbmV9PSR7dG9waWN9Jm1heD0ke3RoaXMubWF4fWApXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBnZXRTeW5vbnltcyh3b3JkLCB0b3BpYykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfT9yZWxfc3luPSR7d29yZH0mJHt0aGlzLmVuZ2luZX09JHt0b3BpY30mbWF4PSR7dGhpcy5tYXh9YClcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIGdldEFudG9ueW1zKHdvcmQsIHRvcGljKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9P3JlbF9hbnQ9JHt3b3JkfSYke3RoaXMuZW5naW5lfT0ke3RvcGljfSZtYXg9JHt0aGlzLm1heH1gKVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgZ2V0RnJlcXVlbnRGb2xsb3dlcnMod29yZCwgdG9waWMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0/cmVsX2JnYT0ke3dvcmR9JiR7dGhpcy5lbmdpbmV9PSR7dG9waWN9Jm1heD0ke3RoaXMubWF4fWApXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIlJoeW1lIiwiY29uc3RydWN0b3IiLCJ3b3JkIiwidGVtcGxhdGVTZWxlY3RvciIsInNlY3Rpb25TZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRoaXMiLCJ0ZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsInRleHRDb250ZW50Iiwic2V0QXR0cmlidXRlIiwiZWxlbWVudCIsInNlY3Rpb24iLCJhcHBlbmQiLCJhcGkiLCJ1cmwiLCJtYXgiLCJlbmdpbmUiLCJzZXRNYXgiLCJ2YWwiLCJjaGFuZ2VFbmdpbmUiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRSaHltZSIsInRvcGljIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0U291bmRBbGlrZSIsImdldFJlbGF0ZWRBZGplY3RpdmVzIiwiZ2V0UmVsYXRlZE5vdW5zIiwiZ2V0UmVsYXRlZFdvcmRzIiwiZ2V0U3lub255bXMiLCJnZXRBbnRvbnltcyIsImdldEZyZXF1ZW50Rm9sbG93ZXJzIiwidGhlbWVJbnB1dCIsImJvZHlJbnB1dCIsInByb2Nlc3NBcGkiLCJkYXRhIiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsInJoeW1lIiwiYWRkUmh5bWUiLCJnZW5lcmF0ZVJoeW1lIiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Q29kZSIsImlucHV0Iiwic3BsaXQiLCJwb3AiLCJ0aGVtZSIsIndvcmRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbiIsImNsb3Nlc3QiLCJjbGFzc0xpc3QiLCJhZGQiLCJtYXhSYW5nZSIsIm1heFJhbmdlTGFiZWwiLCJvbmlucHV0IiwicmFkaW8iLCJvbmNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==